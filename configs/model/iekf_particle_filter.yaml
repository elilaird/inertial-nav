defaults:
  - iekf_world_model

name: "iekf_particle_filter"

particle_filter:
  enabled: true
  num_particles_train: 5
  num_particles_eval: 20
  resample_threshold: 0.5      # ESS fraction of M
  soft_resample_alpha: 0.5     # Soft weight mixing for gradient flow
  jitter_std: 0.01             # Post-resample bias jitter

transition_model:
  enabled: false                # Stage 3: false, Stage 4: true
  type: "TransitionModel"
  architecture:
    hidden_dim: 64
    alpha: 3.0
    weight_scale: 0.01
    bias_scale: 0.01

# Add transition_model param group when enabled
optimizer:
  param_groups:
    init_process_cov_net:
      lr: 1.0e-4
    world_model:
      lr: 1.0e-4
      weight_decay: 0.0
    transition_model:
      lr: 1.0e-4
      weight_decay: 0.0
